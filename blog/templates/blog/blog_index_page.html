{% extends "base.html" %}
{% comment %} {% load wagtailimages_tags wagtailcore_tags wagtailmetadata_tags static svg%} {% endcomment %}
{% load wagtailimages_tags filters_tags wagtailcore_tags static %}

{% block meta_tag %}
  {% comment %} {% meta_tags %} {% endcomment %}
{% endblock %}

{% block body_class %}
xl:container mx-auto bg-gray-900 min-h-full
{% endblock body_class %}

{% block header %}
{% include "parts/header.html" with class="sticky top-0 shadow z-10 bg-primary flex justify-end md:justify-center items-center" %}
{% endblock header %}

{% block content %}

<section class="bg-gray-200">
	<div class="container max-w-6xl p-6 mx-auto space-y-6 sm:space-y-12">
		{% for post in posts %}
			{% if forloop.first %}
			<a rel="" href="{{ post.slug }}" class="block max-w-sm gap-3 mx-auto sm:max-w-full group hover:no-underline focus:no-underline md:grid md:grid-cols-12 bg-white shadow-lg rounded-xl">
				{% image post.image height-320 format-webp class="rounded-l-xl sm:object-cover w-full h-64 rounded sm:h-96 md:col-span-7" %}
				{% comment %} <img src="https://source.unsplash.com/random/480x360" alt="" class="object-cover w-full h-64 rounded sm:h-96 lg:col-span-7"> {% endcomment %}
				<div class="p-6 space-y-2 md:col-span-5">
					<h1 class="mb-6 sm:text-3xl text-center font-semibold group-hover:underline group-focus:underline">{{ post.title }}</h1>
					{% comment %} <span class="text-xs dark:text-gray-400">February 19, 2021</span> {% endcomment %}
					<p>{{ post.introduction }}</p>
				</div>
			</a>
			
			<div class="grid justify-center grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3">
			{% else %}	
				<a rel="" href="{{ post.slug }}" class="frameCard group">
					{% image post.image height-240 format-webp class="object-cover w-full h-64 rounded-t-lg" %}
					{% comment %} <img role="presentation" class="object-cover w-full h-64 rounded-t-lg " src="https://source.unsplash.com/random/480x320?1"> {% endcomment %}
					<div class="p-6 space-y-2">
						<h2 class="text-center font-bold group-hover:underline">{{ post.title|titulo }}</h2>
						{% comment %} <span class="text-xs dark:text-gray-400">January 21, 2021</span> {% endcomment %}
						<p>{{ post.introduction|truncatewords_html:30 }}</p>
					</div>
				</a>
			{% endif %}   
		{% endfor %}

		</div>
		<div class="flex justify-center">
			<button type="button" class="px-6 py-3 text-sm rounded-md hover:underline dark:bg-gray-900 dark:text-gray-400">Load more posts...</button>
		</div>
	</div>
</section>


{% comment %} <main class="flex flex-col md:flex-row text-center">
	<div class="bg-gray-200 w-full">
{% for post in posts %}
	{% if forloop.first %}
		<div id="blog" class="py-24 sm:mx-4 font-noto sm:py-4 bg-white shadow rounded-xl">
			<article id="{{ post.slug }}" class="relative">
				<a href="{{post.slug}}">
					<h1 class="font-bold mx-auto w-3/4 md:w-4/5 lg:w-1/2"> {{ post.title|titulo }} </h1>
				</a>
				{% image post.image fill-210x130 format-webp-lossless loading="lazy" class="rounded-lg w-full lg:w-1/2 my-4 mx-auto md:mr-4 md:float-left"%}
				<div class="py-20 px-4 lg:px-8 md:mx-5 font-noto sm:py-4 bg-white">
				{{ post.introduction }} 
					<span> 
						<a href="{{post.slug}}" class="ml-5 inline-flex items-center px-2 text-black bg-yellow-350 rounded-md shadow-sm">Continuar Leyendo 
							<svg class="ml-3 w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
								<path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd"></path>
							</svg>
						</a>
					</span>                     
				</div>      
				<!-- <p class="mx-auto pt-2 w-96 border-solid border-t-2 border-gray-200"> {{ post.date_added|date}} </p>       -->
			</article>
		</div>
		<div class="px-2 my-5 md:mx-8 sm:masonry-2-col lg:masonry-3-col pb-3">            
	{% else %}
			<a href="{% url 'post_detail' post.slug %}">
				<div class="break-inside mx-2 sm:mx-8 mb-5 md:mx-2 bg-white rounded-xl overflow-hidden shadow-lg hover:shadow-xl duration-500 transform transition">
					<img class="object-contain w-full" src="{{ post.img.url }}" alt="{{ post.title }}">
					<div class="p-2 text-center">
						<h3 class="text-xl">{{ post.title }}</h3>
						<button class="my-2 inline-flex items-center p-2 px-4 text-black border-2 bg-yellow-350 rounded-md shadow-sm">Ver Art√≠culo </button>
					</div>
				</div>
			</a>
	{% endif %}   
{% endfor %}
		</div>
	</div>
	<div class="hidden md:block lg:w-96">
		<div class="bg-white h-full py-4">
{% for post in object_list %}
	{% if forloop.first %}
	{% else %}
			<a href="{% url 'post_detail' post.slug %}">
				<div class="bg-yellow-350 border-2 m-2 p-2 py-4 rounded-lg shadow-md">
					<h2 class="text-base">{{ post.title }}</h2>
					<h2 class="text-base">{{ post.subtitle }} </h2>
				</div>
			</a>
	{% endif %}               
{% endfor %}
{% for anuncio in anuncio_list %}
			<div class="text-black border-2 m-2 p-2 py-4 rounded-lg shadow-md">
				<img class="object-contain w-full" src="{{ anuncio.img.url }}" alt="{{ anuncio.name }}">
			</div>
{% endfor %}
		</div>
	</div>
</main> {% endcomment %}
{% endblock content %}


{% block extra_js %}

<script type="text/javascript">
  document.addEventListener('DOMContentLoaded', () => {
    var mobileMenuButton = document.getElementById("mobileMenuButton");
    
    mobileMenuButton.onclick = function() {
        document.getElementById("sideMenuHideOnMobile").classList.toggle("-translate-y-full");
        document.getElementById("sideMenuHideOnMobile").classList.toggle("mt-12");
        document.getElementById("sideMenuHideOnMobile").classList.toggle("shadow");
        document.getElementById("mobileMenuButtonClose").classList.toggle("hidden");
        document.getElementById("mobileMenuButtonOpen").classList.toggle("hidden");
    }
      // Hide element when click outside nav
    var theElementContainer = document.getElementsByTagName("nav")[0];
    document.addEventListener('click', function(event) {
        if (!theElementContainer.contains(event.target)) {
            document.getElementById("sideMenuHideOnMobile").classList.add("-translate-y-full");
            document.getElementById("sideMenuHideOnMobile").classList.remove("mt-12");
            document.getElementById("sideMenuHideOnMobile").classList.remove("shadow");
            document.getElementById("mobileMenuButtonOpen").classList.remove("hidden");
            document.getElementById("mobileMenuButtonClose").classList.add("hidden");
        }
    });
    var sideMenu = document.getElementById("sideMenuHideOnMobile").childNodes;
    sideMenu.onclick = function() {    
      document.getElementById("sideMenuHideOnMobile").classList.add("-translate-y-full");
      document.getElementById("sideMenuHideOnMobile").classList.remove("mt-12");
      document.getElementById("sideMenuHideOnMobile").classList.remove("shadow");
      document.getElementById("mobileMenuButtonOpen").classList.remove("hidden");
      document.getElementById("mobileMenuButtonClose").classList.add("hidden");
    };
  
  });
</script>

{% comment %} <script type="text/javascript" src="{% static 'js/home.js' %}"></script> {% endcomment %}


{% endblock extra_js %}    



